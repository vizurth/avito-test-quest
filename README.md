# PR Reviewer Assignment Service

REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–∞–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ –Ω–∞ Pull Request'—ã.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üéØ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤** ‚Äî –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –¥–æ 2 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ –∏–∑ –∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞
- üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- üìã **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PR** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ, –º–µ—Ä–∂ PR, –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤
- üîç **–ü–æ–ª—É—á–µ–Ω–∏–µ PR –¥–ª—è —Ä–µ–≤—å—é–≤–µ—Ä–∞** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö PR, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω —Ä–µ–≤—å—é–≤–µ—Ä–æ–º
- üìä **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `zap` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–Ø–∑—ã–∫**: Go 1.x
- **Web Framework**: [Gin](https://github.com/gin-gonic/gin)
- **–ë–î**: PostgreSQL
- **Query Builder**: [Squirrel](https://github.com/Masterminds/squirrel)
- **–ú–∏–≥—Ä–∞—Ü–∏–∏**: [golang-migrate](https://github.com/golang-migrate/migrate)
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: [zap](https://github.com/uber-go/zap)
- **–î—Ä–∞–π–≤–µ—Ä –ë–î**: [pgx](https://github.com/jackc/pgx)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
internal/
‚îú‚îÄ‚îÄ app/          # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config/       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ handler/      # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (Gin)
‚îú‚îÄ‚îÄ logger/       # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (zap)
‚îú‚îÄ‚îÄ models/       # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (DTO)
‚îú‚îÄ‚îÄ postgres/     # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ repository/   # –£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)
‚îî‚îÄ‚îÄ service/      # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

migrations/      # SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (—Å usar golang-migrate)
cmd/             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
configs/         # –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
build/           # Docker —Ñ–∞–π–ª—ã
```

## API Endpoints

### Teams

#### `POST /team/add` ‚Äî –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É `TEAM_EXISTS`.

**Request:**

```json
{
	"team_name": "backend",
	"members": [
		{ "user_id": "u1", "username": "Alice", "is_active": true },
		{ "user_id": "u2", "username": "Bob", "is_active": true }
	]
}
```

**Response:** 201 Created

```json
{
	"team": {
		"team_name": "backend",
		"members": [
			{ "user_id": "u1", "username": "Alice", "is_active": true },
			{ "user_id": "u2", "username": "Bob", "is_active": true }
		]
	}
}
```

---

#### `GET /team/get?team_name=<name>` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –ø–æ –∏–º–µ–Ω–∏

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–∞–Ω–¥–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –µ—ë —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `NOT_FOUND`.

**Query Parameters:**

- `team_name` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

**Response:** 200 OK

```json
{
	"team_name": "backend",
	"members": [
		{ "user_id": "u1", "username": "Alice", "is_active": true },
		{ "user_id": "u2", "username": "Bob", "is_active": false }
	]
}
```

---

### Users

#### `POST /users/setIsActive` ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ò–∑–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–∫—Ç–∏–≤–µ–Ω/–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω). –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω—ã —Ä–µ–≤—å—é–≤–µ—Ä–∞–º–∏ –Ω–∞ PR. –¢—Ä–µ–±—É–µ—Ç Admin —Ç–æ–∫–µ–Ω.

**Request:**

```json
{
	"user_id": "u2",
	"is_active": false
}
```

**Response:** 200 OK

```json
{
	"user": {
		"user_id": "u2",
		"username": "Bob",
		"team_name": "backend",
		"is_active": false
	}
}
```

---

#### `GET /users/getReview?user_id=<id>` ‚Äî –ü–æ–ª—É—á–∏—Ç—å PR, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω —Ä–µ–≤—å—é–≤–µ—Ä–æ–º

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö Pull Request'–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω —Ä–µ–≤—å—é–≤–µ—Ä–æ–º. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `NOT_FOUND`.

**Query Parameters:**

- `user_id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Response:** 200 OK

```json
{
	"user_id": "u2",
	"pull_requests": [
		{
			"pull_request_id": "pr-1001",
			"pull_request_name": "Add search functionality",
			"author_id": "u1",
			"status": "OPEN"
		},
		{
			"pull_request_id": "pr-1002",
			"pull_request_name": "Fix bug in login",
			"author_id": "u3",
			"status": "MERGED"
		}
	]
}
```

---

### Pull Requests

#### `POST /pullRequest/create` ‚Äî –°–æ–∑–¥–∞—Ç—å PR –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π Pull Request –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –¥–æ 2 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ –∏–∑ –∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞ (–∏—Å–∫–ª—é—á–∞—è —Å–∞–º–æ–≥–æ –∞–≤—Ç–æ—Ä–∞). –ï—Å–ª–∏ PR —Å —Ç–∞–∫–∏–º ID —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `PR_EXISTS`. –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä –∏–ª–∏ –µ–≥–æ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `NOT_FOUND`. –¢—Ä–µ–±—É–µ—Ç Admin —Ç–æ–∫–µ–Ω.

**Request:**

```json
{
	"pull_request_id": "pr-1001",
	"pull_request_name": "Add search functionality",
	"author_id": "u1"
}
```

**Response:** 201 Created

```json
{
	"pr": {
		"pull_request_id": "pr-1001",
		"pull_request_name": "Add search functionality",
		"author_id": "u1",
		"status": "OPEN",
		"assigned_reviewers": ["u2", "u3"],
		"createdAt": "2025-11-14T10:30:00Z",
		"mergedAt": null
	}
}
```

---

#### `POST /pullRequest/merge` ‚Äî –ü–æ–º–µ—Ç–∏—Ç—å PR –∫–∞–∫ merged

–ò–∑–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å PR –Ω–∞ `MERGED` –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –º–µ—Ä–∂–∞. –û–ø–µ—Ä–∞—Ü–∏—è **–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞** ‚Äî –µ—Å–ª–∏ PR —É–∂–µ –≤ —Å—Ç–∞—Ç—É—Å–µ MERGED, –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ï—Å–ª–∏ PR –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `NOT_FOUND`. –¢—Ä–µ–±—É–µ—Ç Admin —Ç–æ–∫–µ–Ω.

**Request:**

```json
{
	"pull_request_id": "pr-1001"
}
```

**Response:** 200 OK

```json
{
	"pr": {
		"pull_request_id": "pr-1001",
		"pull_request_name": "Add search functionality",
		"author_id": "u1",
		"status": "MERGED",
		"assigned_reviewers": ["u2", "u3"],
		"createdAt": "2025-11-14T10:30:00Z",
		"mergedAt": "2025-11-14T10:45:00Z"
	}
}
```

---

#### `POST /pullRequest/reassign` ‚Äî –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä–µ–≤—å—é–≤–µ—Ä–∞

–ó–∞–º–µ–Ω—è–µ—Ç –æ–¥–Ω–æ–≥–æ —Ä–µ–≤—å—é–≤–µ—Ä–∞ –Ω–∞ –¥—Ä—É–≥–æ–≥–æ –∏–∑ —Ç–æ–π –∂–µ –∫–æ–º–∞–Ω–¥—ã. –í—ã–±–æ—Ä –Ω–æ–≤–æ–≥–æ —Ä–µ–≤—å—é–≤–µ—Ä–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–ª–µ–Ω–æ–≤ –∫–æ–º–∞–Ω–¥—ã (–∏—Å–∫–ª—é—á–∞—è –∞–≤—Ç–æ—Ä–∞ PR –∏ —Ç–µ–∫—É—â–∏—Ö —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤).

–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:

- `NOT_FOUND` ‚Äî PR –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
- `PR_MERGED` ‚Äî PR —É–∂–µ –≤ —Å—Ç–∞—Ç—É—Å–µ MERGED
- `NOT_ASSIGNED` ‚Äî —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ä–µ–≤—å—é–≤–µ—Ä –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–∞ —ç—Ç–æ—Ç PR
- `NO_CANDIDATE` ‚Äî –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è –∑–∞–º–µ–Ω—ã

–¢—Ä–µ–±—É–µ—Ç Admin —Ç–æ–∫–µ–Ω.

**Request:**

```json
{
	"pull_request_id": "pr-1001",
	"old_user_id": "u2"
}
```

**Response:** 200 OK

```json
{
	"pr": {
		"pull_request_id": "pr-1001",
		"pull_request_name": "Add search functionality",
		"author_id": "u1",
		"status": "OPEN",
		"assigned_reviewers": ["u3", "u4"],
		"createdAt": "2025-11-14T10:30:00Z",
		"mergedAt": null
	},
	"replaced_by": "u4"
}
```

---

### Health

#### `GET /health` ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞

–ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "ok" –µ—Å–ª–∏ —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç.

**Response:** 200 OK

```json
{
	"status": "ok"
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Postman

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≥–æ—Ç–æ–≤—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ñ–∞–π–ª–µ `postman.json`. –î–ª—è –∏–º–ø–æ—Ä—Ç–∞:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Postman
2. –ù–∞–∂–º–∏—Ç–µ **Import** ‚Üí **File** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ `postman.json`
3. –°–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤—Å—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

- `base_url` ‚Äî –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–∏—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `http://localhost:9091`)
- `admin_token` ‚Äî —Ç–æ–∫–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

–ö–æ–ª–ª–µ–∫—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã:

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (Backend, Frontend)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–∞–Ω–¥–∞—Ö
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ PR –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤
- ‚úÖ –ú–µ—Ä–∂ PR (–≤–∫–ª—é—á–∞—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
- ‚úÖ –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (404, 409 –∏ —Ç.–¥.)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- Makefile (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–º)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/vizurth/avito-test-quest.git
cd avito-test-quest
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Makefile –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–º:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å –≤ —Ñ–æ–Ω–µ —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π –æ–±—Ä–∞–∑–∞
make up

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å
make down

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–∏—Å (down + up)
make restart

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑
make build_and
```

–°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:8080`.

–í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `golang-migrate`.

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

- **teams** ‚Äî –∫–æ–º–∞–Ω–¥—ã
- **users** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Å–≤—è–∑–∞–Ω—ã —Å –∫–æ–º–∞–Ω–¥–æ–π)
- **pull_requests** ‚Äî pull requests
- **pr_reviewers** ‚Äî —Å–≤—è–∑—å PR –∏ —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤

### –ú–∏–≥—Ä–∞—Ü–∏–∏

–í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `migrations/` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `golang-migrate`. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

## –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥            | –û–ø–∏—Å–∞–Ω–∏–µ                                   |
| -------------- | ------------------------------------------ |
| `TEAM_EXISTS`  | –ö–æ–º–∞–Ω–¥–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç   |
| `PR_EXISTS`    | PR —Å —Ç–∞–∫–∏–º ID —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç               |
| `PR_MERGED`    | –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å PR, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ merged     |
| `NOT_ASSIGNED` | –†–µ–≤—å—é–≤–µ—Ä –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–∞ —ç—Ç–æ—Ç PR            |
| `NO_CANDIDATE` | –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è |
| `NOT_FOUND`    | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω                           |

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `zap` –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –≤ production —Ä–µ–∂–∏–º–µ.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
avito-test-quest/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ main.go              # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.go           # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.go        # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ handler/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handler.go       # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ interface.go     # –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ logger/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.go        # –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.go        # –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ postgres/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ postgres.go      # –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository.go    # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ interface.go     # –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ service/
‚îÇ       ‚îú‚îÄ‚îÄ service.go       # –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ interface.go     # –º–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îú‚îÄ‚îÄ migrations/              # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ build/
‚îÇ   ‚îî‚îÄ‚îÄ docker/              # docker —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ configs/
‚îÇ   ‚îî‚îÄ‚îÄ config.yaml          # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Makefile                 # –∫–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ go.mod                   # –º–æ–¥—É–ª—å Go
‚îú‚îÄ‚îÄ go.sum                   # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md                # —ç—Ç–æ—Ç —Ñ–∞–π–ª
```
